<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Javascript iteration | IMT 549 - Intro to Web Development</title>
    <meta name="description" content="Intro to Web Development">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="shortcut icon" href="/coursework/favicon.ico">
    
    <link rel="preload" href="/coursework/assets/css/0.styles.54215caa.css" as="style"><link rel="preload" href="/coursework/assets/js/app.6b55f3c6.js" as="script"><link rel="preload" href="/coursework/assets/js/2.102d0eb8.js" as="script"><link rel="preload" href="/coursework/assets/js/19.7eb550a6.js" as="script"><link rel="prefetch" href="/coursework/assets/js/10.ab7faa79.js"><link rel="prefetch" href="/coursework/assets/js/11.83595c18.js"><link rel="prefetch" href="/coursework/assets/js/12.2b485452.js"><link rel="prefetch" href="/coursework/assets/js/13.d310006d.js"><link rel="prefetch" href="/coursework/assets/js/14.9129a17e.js"><link rel="prefetch" href="/coursework/assets/js/15.fa0077b4.js"><link rel="prefetch" href="/coursework/assets/js/16.b8fcb0a6.js"><link rel="prefetch" href="/coursework/assets/js/17.d708c1cd.js"><link rel="prefetch" href="/coursework/assets/js/18.19f0d3fd.js"><link rel="prefetch" href="/coursework/assets/js/20.ca3f0ee5.js"><link rel="prefetch" href="/coursework/assets/js/21.17ada998.js"><link rel="prefetch" href="/coursework/assets/js/22.a223e686.js"><link rel="prefetch" href="/coursework/assets/js/23.29202546.js"><link rel="prefetch" href="/coursework/assets/js/3.e30ffadd.js"><link rel="prefetch" href="/coursework/assets/js/4.b82b0f3f.js"><link rel="prefetch" href="/coursework/assets/js/5.760478e7.js"><link rel="prefetch" href="/coursework/assets/js/6.cf676257.js"><link rel="prefetch" href="/coursework/assets/js/7.fc42b263.js"><link rel="prefetch" href="/coursework/assets/js/8.6b1946c6.js"><link rel="prefetch" href="/coursework/assets/js/9.0c9a5fa4.js">
    <link rel="stylesheet" href="/coursework/assets/css/0.styles.54215caa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/coursework/" class="home-link router-link-active"><!----> <span class="site-name">IMT 549 - Intro to Web Development</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/coursework/" class="sidebar-link">Welcome to IMT 549 - Intro to Web Development</a></li><li><a href="/coursework/getting-setup.html" class="sidebar-link">Getting setup tutorial</a></li><li><a href="/coursework/managing-files.html" class="sidebar-link">Managing files tutorial</a></li><li><a href="/coursework/github-pull-requests.html" class="sidebar-link">GitHub Branching and Merging</a></li><li><a href="/coursework/encoding-html.html" class="sidebar-link">Encoding in HTML</a></li><li><a href="/coursework/github-pages.html" class="sidebar-link">Publishing to GitHub pages</a></li><li><a href="/coursework/emmet-autocomplete.html" class="sidebar-link">Emmet autocompletion</a></li><li><a href="/coursework/browsersync.html" class="sidebar-link">Auto refreshing with Browsersync</a></li><li><a href="/coursework/adding-css.html" class="sidebar-link">Adding CSS style</a></li><li><a href="/coursework/using-chrome-inspector.html" class="sidebar-link">Using the Chrome inspector</a></li><li><a href="/coursework/responsive.html" class="sidebar-link">Responding to devices</a></li><li><a href="/coursework/css-frameworks.html" class="sidebar-link">CSS Frameworks</a></li><li><a href="/coursework/javascript-intro.html" class="sidebar-link">Introduction to Javascript</a></li><li><a href="/coursework/javascript-dom.html" class="sidebar-link">DOM manipulation</a></li><li><a href="/coursework/javascript-iteration.html" class="active sidebar-link">Javascript iteration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/coursework/javascript-iteration.html#creating-populating-and-appending-new-elements" class="sidebar-link">Creating, populating, and appending new elements</a></li><li class="sidebar-sub-header"><a href="/coursework/javascript-iteration.html#html-tables" class="sidebar-link">HTML tables</a></li><li class="sidebar-sub-header"><a href="/coursework/javascript-iteration.html#building-tables-from-data" class="sidebar-link">Building tables from data</a></li><li class="sidebar-sub-header"><a href="/coursework/javascript-iteration.html#using-blocks-of-html-as-templates" class="sidebar-link">Using blocks of HTML as templates</a></li><li class="sidebar-sub-header"><a href="/coursework/javascript-iteration.html#templating-libraries" class="sidebar-link">Templating libraries</a></li><li class="sidebar-sub-header"><a href="/coursework/javascript-iteration.html#other-templating-libraries" class="sidebar-link">Other templating libraries</a></li></ul></li><li><a href="/coursework/javascript-sorting.html" class="sidebar-link">Javascript sorting and filtering</a></li><li><a href="/coursework/javascript-ajax.html" class="sidebar-link">Javascript AJAX</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="javascript-iteration"><a href="#javascript-iteration" class="header-anchor">#</a> Javascript iteration</h1> <iframe width="725" height="408" src="https://www.youtube.com/embed/NWi9Y0jYP4I" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe> <p>Now that you know how to work with data in JavaScript, and how to alter the page using the DOM, it's time to put the two together and create data-driven web pages.</p> <p>So far you've created pages where you've typed in all of the content by hand, but in many cases, you will want at least some of that content to be derived from data that are stored separately and change over time. Wouldn't it be cool if you could dynamically build some of your page's content based on some data you have in JavaScript as an array of objects? Well, you're in luck; the DOM provides us mechanisms to do just that.</p> <h2 id="creating-populating-and-appending-new-elements"><a href="#creating-populating-and-appending-new-elements" class="header-anchor">#</a> Creating, populating, and appending new elements</h2> <p>In the previous tutorial and challenge you learned how to alter existing elements in your page, but the DOM also allows us to create new elements that don't yet exist. This is done using the <code>document.createElement()</code> method:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//create a new &lt;p&gt; element</span>
<span class="token keyword">var</span> myNewPara <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;p&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//set its text content</span>
myNewPara<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">&quot;Hello World!&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>The <code>document.createElement()</code> method creates a new disconnected, free-floating DOM element in memory, and we can manipulate it just like any other DOM element, but it won't appear on screen until we actually add it to the page. To add it to the page, we need to append it as a child element of some existing element in the tree. For example, say we want that new paragraph element to appear at the bottom of our page. If we append it as a new child of the <code>&lt;body&gt;</code> element, it will appear at the very bottom of the body, after all existing child elements:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//select the &lt;body&gt; element</span>
<span class="token keyword">var</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;body&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//append our new &lt;p&gt; element as a new child of &lt;body&gt;</span>
body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>myNewPara<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/appendChild" target="_blank" rel="noopener noreferrer"><code>.appendChild()</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> method is available on all DOM elements, so you can append new elements as children of any existing element on your page. The <code>.appendChild()</code> method will always append your new element to the end of the existing children list, but if you would rather add it before some existing child, you can use the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/insertBefore" target="_blank" rel="noopener noreferrer"><code>.insertBefore()</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> instead.</p> <p>There is also a corresponding <code>.removeChild()</code> to remove a specific child element from another element. But if you simply want to clear all content from a given element (child elements and/or text), it's much faster and simpler to set the element's <code>.textContent</code> property to an empty string (<code>&quot;&quot;</code>);</p> <h2 id="html-tables"><a href="#html-tables" class="header-anchor">#</a> HTML tables</h2> <p>If we want to display tabular data in our web pages, the most appropriate elements to use are those that create an HTML table. Like a spreadsheet, an HTML table presents tabular data in rows and columns. Each row should present data from one record or observation, and each column should present one property from each record or observation. Columns should be labeled with a title, and may also have an optional footer for displaying totals or other statistics for the column.</p> <p>HTML tables have a similar element structure to HTML pages. They start with a single element named <code>&lt;table&gt;</code>, which contains two elements: one for the table header (column headings); and one for the table body (the data rows).</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- column headings --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- table rows --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>The <code>&lt;thead&gt;</code> element should contain one table row element (<code>&lt;tr&gt;</code>), and that row should contain one table header element (<code>&lt;th&gt;</code>) for each column you want to display:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>First Name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>Last Name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>Age<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- table rows --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>By default, browsers will render <code>&lt;th&gt;</code> elements in bold, but you can override this using CSS, just like any other element.</p> <p>The <code>&lt;tbody&gt;</code> element should contain one table row element for each data row, and each row should contain table data cell elements (<code>&lt;td&gt;</code>) for each column. For obvious reasons, the number of <code>&lt;td&gt;</code> elements per row should match the number of <code>&lt;th&gt;</code> elements in the <code>&lt;thead&gt;</code> section. If there is no data for the column, simply leave the contents of the <code>&lt;td&gt;</code> element blank.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>First Name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>Last Name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>Age<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>John<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Smith<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>35<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Jane<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Lee<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>29<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>When the browser renders the table, it will ensure that all of the columns line-up, regardless of how much content happens to be within a given cell. By default, the content in each cell will be left-aligned, but you can adjust that using CSS. For example, it's common to set the CSS property <code>text-align: right</code> on elements containing numeric content so that the numbers are right-aligned. You can define one CSS style class that applies this formatting, and then add that style class to any <code>&lt;td&gt;</code> that displays numeric data, as well as the <code>&lt;th&gt;</code> for that column:</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.numeric</span> <span class="token punctuation">{</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>First Name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>Last Name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>numeric<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Age<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>John<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Smith<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>numeric<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>35<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Jane<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Lee<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>numeric<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>29<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="building-tables-from-data"><a href="#building-tables-from-data" class="header-anchor">#</a> Building tables from data</h2> <p>Now suppose we wanted to build this HTML table dynamically from data. If we know the shape of the data ahead of time, we could continue to hard-code the <code>&lt;thead&gt;</code> and <code>&lt;th&gt;</code> elements, as those remain the same regardless of the data rows, but leave the <code>&lt;tbody&gt;</code> empty, appending one row per record in our data.</p> <p>For example, say we had the data from above in a JavaScript array of objects:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> people <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        fname<span class="token operator">:</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span>
        lname<span class="token operator">:</span> <span class="token string">&quot;Smith&quot;</span><span class="token punctuation">,</span>
        age<span class="token operator">:</span> <span class="token number">35</span><span class="token punctuation">,</span>
        email<span class="token operator">:</span> <span class="token string">&quot;jsmith@example.com&quot;</span><span class="token punctuation">,</span>
        description<span class="token operator">:</span> <span class="token string">&quot;...&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        fname<span class="token operator">:</span> <span class="token string">&quot;Jane&quot;</span><span class="token punctuation">,</span>
        lname<span class="token operator">:</span> <span class="token string">&quot;Lee&quot;</span><span class="token punctuation">,</span>
        age<span class="token operator">:</span> <span class="token number">29</span><span class="token punctuation">,</span>
        email<span class="token operator">:</span> <span class="token string">&quot;jlee@example.com&quot;</span><span class="token punctuation">,</span>
        description<span class="token operator">:</span> <span class="token string">&quot;...&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>This creates an array with two objects, each of which has the same set of properties: <code>fname</code>, <code>lname</code>, <code>age</code>, <code>email</code>, and <code>description</code>. This is conceptually similar to the <code>MOVIES</code> array you worked with in an earlier challenge.</p> <p>Our goal is create one <code>&lt;tr&gt;</code> for each record, with <code>&lt;td&gt;</code> elements for each of the properties. The best way to do that is to break up the task into a few reusable functions. The fist would be a function that can create, populate, and return a new <code>&lt;td&gt;</code> element given some value and a flag to indicate whether the value should be formatted as numeric:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">renderTableCell</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> isNumeric</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//create the new &lt;td&gt; element</span>
    <span class="token keyword">var</span> td <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;td&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//set its text content to the provided value</span>
    td<span class="token punctuation">.</span>textContent <span class="token operator">=</span> value<span class="token punctuation">;</span>

    <span class="token comment">//if it should be formatted as numeric...</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isNumeric<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//add the &quot;numeric&quot; style class</span>
        td<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;numeric&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//return the new element to the caller</span>
    <span class="token keyword">return</span> td<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The function name starts with <code>render</code> because that's what we typically call functions that transform raw data into some kind of content that can be shown to a human.</p> <p>The next function you need is one that can create a new <code>&lt;tr&gt;</code> element and populate it with associated <code>&lt;td&gt;</code> elements, given one of the records, which is a JavaScript object.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">renderPersonRow</span><span class="token punctuation">(</span><span class="token parameter">person</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//create the &lt;tr&gt; element</span>
    <span class="token keyword">var</span> tr <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;tr&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//create and append the &lt;td&gt; elements</span>
    tr<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token function">renderTableCell</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>fname<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    tr<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token function">renderTableCell</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>lname<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    tr<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token function">renderTableCell</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>age<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//return the table row to the caller</span>
    <span class="token keyword">return</span> tr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Here we use our existing <code>renderTableCell()</code> function to create the various <code>&lt;td&gt;</code> elements. Each time we pass a different property from the person record as the <code>value</code> parameter. For the first two, we omit the second <code>isNumeric</code> parameter, but we set it to <code>true</code> on the last call, as that property should be formatted as a number. Omitted parameters in JavaScript are automatically set to <code>undefined</code>, and that <a href="https://github.com/getify/You-Dont-Know-JS/blob/master/up%20%26%20going/ch2.md#truthy--falsy" target="_blank" rel="noopener noreferrer">will evaluate as <code>false</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> when we test it with the <code>if ()</code> condition, so omitting the parameter is the same as passing <code>false</code>.</p> <p>These two functions will create a fully populated <code>&lt;tr&gt;</code> element in-memory, but we still need to append that <code>&lt;tr&gt;</code> to the <code>&lt;tbody&gt;</code> in order for it to be displayed on the page. That requires a third function, which accepts the entire array of people records, loops over the array elements, calling <code>renderPersonRow()</code> for each, and appending the returned table row to the <code>&lt;tbody&gt;</code> element:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">renderPeopleTable</span><span class="token punctuation">(</span><span class="token parameter">peopleArray</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//select the &lt;tbody&gt; element</span>
    <span class="token comment">//you can make this more precise by using a descendant selector,</span>
    <span class="token comment">//referring to a particular &lt;table&gt; by ID or style class name</span>
    <span class="token keyword">var</span> tbody <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;tbody&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//clear any existing content in the body</span>
    tbody<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">//for each element in the array...</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> idx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> idx <span class="token operator">&lt;</span> peopleArray<span class="token punctuation">.</span>length<span class="token punctuation">;</span> idx<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//get the person record at the current index</span>
        <span class="token keyword">var</span> person <span class="token operator">=</span> peopleArray<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token comment">//render that person record as a &lt;tr&gt; with &lt;td&gt;s</span>
        <span class="token comment">//and append it to the &lt;tbody&gt;</span>
        tbody<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token function">renderPersonRow</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Now we can call our <code>renderPeopleTable()</code>, passing the array of records, and it will dynamically populate the <code>&lt;tbody&gt;</code> based on whatever happens to be in the array:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//var people = [...] from above</span>
<span class="token function">renderPeopleTable</span><span class="token punctuation">(</span>people<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="using-blocks-of-html-as-templates"><a href="#using-blocks-of-html-as-templates" class="header-anchor">#</a> Using blocks of HTML as templates</h2> <p>Tables have a fairly simple and rigid structure, so it's easy to just create <code>&lt;tr&gt;</code> and <code>&lt;td&gt;</code> elements as you run through an array of data. But suppose you wanted to render these people using something like an MDL card layout, which requires significantly more HTML per-record. You could create all of the requisite elements, just as we did with the table rows and cells, but it might be easier to define a template instead.</p> <p>A <strong>template</strong> is a block of HTML that you want to repeat for each record in your data array. The HTML could be quite complex, with lots of nested <code>&lt;div&gt;</code> elements and style classes, but only the elements that actually contain data would need to change for each of the data records. You can define this block of HTML once in your page, and then use JavaScript to clone, populate, and append it for each data record.</p> <p>For example, say you had this block of HTML in your web page:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- template for each person record --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">hidden</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>person-template<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>mdl-card mdl-shadow--2dp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>mdl-card__title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>person-name mdl-card__title-text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>person-description mdl-card__supporting-text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>mdl-card__actions mdl-card--border<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>contact-person-button mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>#<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            Contact
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>There are a few things to note about this HTML block. First, the outermost <code>&lt;div&gt;</code> element has an attribute named <code>hidden</code>. This tells the browser not to display this block of HTML on the page, and it tells assistive technologies like screen readers to ignore it. This content is simply a template that we will clone and populate later for each record, so we don't want the empty template itself showing up on screen.</p> <p>Second, I've added particular style class names to the various elements within this block that will show data values. For example, the <code>&lt;h2&gt;</code> element has a style class named <code>person-name</code> in addition to all the other MDL-specific style classes. This will allow us to find and populate these elements easily after we clone the template. It will also make it easy to style the data.</p> <p>To use this template, we need to write a little JavaScript. Our first function will render one record given a template:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">renderPersonCard</span><span class="token punctuation">(</span><span class="token parameter">person<span class="token punctuation">,</span> template</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//deep clone the template</span>
    <span class="token keyword">var</span> card <span class="token operator">=</span> template<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//remove the `hidden` attribute from the clone</span>
    <span class="token comment">//so that it will be displayed</span>
    card<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;hidden&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//populate the various descendant elements with data</span>
    <span class="token comment">//person name</span>
    <span class="token keyword">var</span> fullName <span class="token operator">=</span> person<span class="token punctuation">.</span>fname <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> person<span class="token punctuation">.</span>lname<span class="token punctuation">;</span>
    card<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.person-name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span> fullName<span class="token punctuation">;</span>

    <span class="token comment">//person description</span>
    card<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.person-description&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span> person<span class="token punctuation">.</span>description<span class="token punctuation">;</span>

    <span class="token comment">//contact button link</span>
    card<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.contact-person-button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">&quot;mailto:&quot;</span> <span class="token operator">+</span> person<span class="token punctuation">.</span>email<span class="token punctuation">;</span>

    <span class="token comment">//return the cloned, populated card</span>
    <span class="token keyword">return</span> card<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Every DOM element has a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/cloneNode" target="_blank" rel="noopener noreferrer"><code>.cloneNode()</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> method that will create a copy of the element. If you pass <code>true</code> as the first parameter, it will create a <strong>deep copy</strong>, which means it makes a copy of all the descendant elements as well. When you create a deep copy, the returned elements are completely new and separate from the ones you cloned. Modifying the copy won't alter the original template.</p> <p>But when we copy, we get all attributes and child elements, including the <code>hidden</code> attribute on the template. We don't want this on the clone as we intend to populate the clone and show it on screen, so the second line of code removes that attribute from the copy.</p> <p>We then use our style classes to find the descendant elements whose text content should be set to the data values. Here we use the <code>.querySelector()</code> method on the clone element so that it only searches the descendants of that element, and not the entire document.</p> <p>This function will create a single card from a record and template, so to create all cards for all records, we need another function:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">renderPeopleCards</span><span class="token punctuation">(</span><span class="token parameter">peopleArray<span class="token punctuation">,</span> template</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//create a &lt;div&gt; to hold all of the cards</span>
    <span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//for each data record...</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> idx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> idx <span class="token operator">&lt;</span> peopleArray<span class="token punctuation">.</span>length<span class="token punctuation">;</span> idx<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//get the person record at the current index</span>
        <span class="token keyword">var</span> person <span class="token operator">=</span> peopleArray<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token comment">//create and append a card</span>
        div<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token function">renderPersonCard</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> template<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> div<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This function creates a new <code>&lt;div&gt;</code> to hold all of the cards, and then just loops through the array, calling <code>renderPersonCard()</code> for each element, and appending the returned card to the <code>&lt;div&gt;</code>.</p> <p>To call this, we just need to select our template element, and pass it as the second parameter:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//select the element with id=&quot;person-template&quot;</span>
<span class="token keyword">var</span> template <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#person-template&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> cards <span class="token operator">=</span> <span class="token function">renderPersonCards</span><span class="token punctuation">(</span>people<span class="token punctuation">,</span> template<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//append the cards to some existing element so that they appear</span>
<span class="token keyword">var</span> main <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;main&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
main<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>cards<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="templating-libraries"><a href="#templating-libraries" class="header-anchor">#</a> Templating libraries</h2> <p>This process of merging data with a template is so common that several JavaScript libraries have been created to make the process even easier. These libraries use special syntax to indicate where data values should appear, and many support simple conditionals and looping/repeating right in the template itself.</p> <p>A simple and popular templating library is <a href="http://handlebarsjs.com/" target="_blank" rel="noopener noreferrer">Handlebars<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. The template above would look like this when using Handlebars:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- handlebars library --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.6/handlebars.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- our template --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>person-template<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text/x-handlebars-template<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mdl-card mdl-shadow--2dp&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mdl-card__title&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>h2 <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mdl-card__title-text&quot;</span><span class="token operator">&gt;</span>
                 
            <span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mdl-card__supporting-text&quot;</span><span class="token operator">&gt;</span>
            
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mdl-card__actions mdl-card--border&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect&quot;</span>
                href<span class="token operator">=</span><span class="token string">&quot;mailto:&quot;</span><span class="token operator">&gt;</span>
                Contact
            <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Because Handlebars extends the HTML syntax, they prefer you to put Handlebars templates inside a <code>&lt;script type=&quot;text/x-handlebars-template&quot;&gt;</code> element. The browser will not interpret this as JavaScript, but will instead ignore it, figuring that some other program will interpret the contents later. It will also be ignored by HTML validators.</p> <p>Note how the template contains several <code>{ {...} }</code> expressions. These double curly braces denote something that Handlebars will replace with data when the template is merged. If you tilt your head 90 degrees, the double curly braces will look like handlebar mustaches, hence the name of the library!</p> <p>To use this template, we first use the Handlebars library to compile it:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//get the contents of the id=&quot;person-template&quot; element</span>
<span class="token keyword">var</span> source <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#person-template&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token punctuation">;</span>

<span class="token comment">//compile that into a function that we can use to create</span>
<span class="token comment">//fully-populated copies of the template</span>
<span class="token keyword">var</span> templateFunc <span class="token operator">=</span> Handlebars<span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The variable <code>templateFunc</code> is actually a function that accepts a JavaScript data object as its first parameter. The function will merge that data with the template, returning the fully-populated HTML as a string.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//copy and populate the template, returning HTML as a string</span>
<span class="token keyword">var</span> cardHTML <span class="token operator">=</span> <span class="token function">templateFunc</span><span class="token punctuation">(</span>people<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//select an element you want to contain the generated HTML</span>
<span class="token comment">//and set its .innerHTML property</span>
<span class="token keyword">var</span> main <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;main&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
main<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> cardHTML<span class="token punctuation">;</span>
</code></pre></div><p>Calling <code>templateFunc()</code> causes Handlebars to merge the data passed as the first parameter with the template. Everyplace you have <code>{ {...} }</code> in your template, Handlebars <a href="http://handlebarsjs.com/expressions.html" target="_blank" rel="noopener noreferrer">evaluates the expression<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> between the curly braces against the data object you passed as the first parameter. Typically these are just property names (e.g., <code>fname</code>, <code>email</code>), and Handlebars will replace the entire <code>{ {...} }</code> expression with the value of that property. As Handlebars does this, it automatically escapes any HTML that might be in the property, so the results will be as safe as if you had set the element's <code>.textContent</code> property.</p> <p>The Handlebars template function returns the merged HTML as a string, so it's not yet a real DOM element. To make it display on screen, select an existing element and set its <code>.innerHTML</code> property. Or you can create a new <code>&lt;div&gt;</code> element, set its <code>.innerHTML</code> property, and append it to some existing element.</p> <h2 id="other-templating-libraries"><a href="#other-templating-libraries" class="header-anchor">#</a> Other templating libraries</h2> <p>Handlebars is just one of many templating libraries in the JavaScript world, but they all operate on the same basic principles. The most popular these days, but also the most complex, is <a href="https://reactjs.org/" target="_blank" rel="noopener noreferrer">React.js<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. They take the approach of embedding the template right in your JavaScript, using a special syntax extension they've defined named JSX (JavaScript Expressions). Using this requires special build tools, so it's far beyond a Beginning Web Development Course. But if you're interested in learning more about React, see their <a href="https://reactjs.org/tutorial/tutorial.html" target="_blank" rel="noopener noreferrer">Tutorial<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> as well as their documentation on <a href="https://reactjs.org/docs/getting-started.html" target="_blank" rel="noopener noreferrer">Installation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, <a href="https://reactjs.org/docs/introducing-jsx.html" target="_blank" rel="noopener noreferrer">JSX<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, and <a href="https://reactjs.org/docs/components-and-props.html" target="_blank" rel="noopener noreferrer">Components and Props<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/coursework/javascript-dom.html" class="prev">
        DOM manipulation
      </a></span> <span class="next"><a href="/coursework/javascript-sorting.html">
        Javascript sorting and filtering
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/coursework/assets/js/app.6b55f3c6.js" defer></script><script src="/coursework/assets/js/2.102d0eb8.js" defer></script><script src="/coursework/assets/js/19.7eb550a6.js" defer></script>
  </body>
</html>
