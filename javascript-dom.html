<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DOM manipulation | IMT 549 - Intro to Web Development</title>
    <meta name="description" content="Intro to Web Development">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="shortcut icon" href="/coursework/favicon.ico">
    
    <link rel="preload" href="/coursework/assets/css/0.styles.54215caa.css" as="style"><link rel="preload" href="/coursework/assets/js/app.6b55f3c6.js" as="script"><link rel="preload" href="/coursework/assets/js/2.102d0eb8.js" as="script"><link rel="preload" href="/coursework/assets/js/17.d708c1cd.js" as="script"><link rel="prefetch" href="/coursework/assets/js/10.ab7faa79.js"><link rel="prefetch" href="/coursework/assets/js/11.83595c18.js"><link rel="prefetch" href="/coursework/assets/js/12.2b485452.js"><link rel="prefetch" href="/coursework/assets/js/13.d310006d.js"><link rel="prefetch" href="/coursework/assets/js/14.9129a17e.js"><link rel="prefetch" href="/coursework/assets/js/15.fa0077b4.js"><link rel="prefetch" href="/coursework/assets/js/16.b8fcb0a6.js"><link rel="prefetch" href="/coursework/assets/js/18.19f0d3fd.js"><link rel="prefetch" href="/coursework/assets/js/19.7eb550a6.js"><link rel="prefetch" href="/coursework/assets/js/20.ca3f0ee5.js"><link rel="prefetch" href="/coursework/assets/js/21.17ada998.js"><link rel="prefetch" href="/coursework/assets/js/22.a223e686.js"><link rel="prefetch" href="/coursework/assets/js/23.29202546.js"><link rel="prefetch" href="/coursework/assets/js/3.e30ffadd.js"><link rel="prefetch" href="/coursework/assets/js/4.b82b0f3f.js"><link rel="prefetch" href="/coursework/assets/js/5.760478e7.js"><link rel="prefetch" href="/coursework/assets/js/6.cf676257.js"><link rel="prefetch" href="/coursework/assets/js/7.fc42b263.js"><link rel="prefetch" href="/coursework/assets/js/8.6b1946c6.js"><link rel="prefetch" href="/coursework/assets/js/9.0c9a5fa4.js">
    <link rel="stylesheet" href="/coursework/assets/css/0.styles.54215caa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/coursework/" class="home-link router-link-active"><!----> <span class="site-name">IMT 549 - Intro to Web Development</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/coursework/" class="sidebar-link">Welcome to IMT 549 - Intro to Web Development</a></li><li><a href="/coursework/getting-setup.html" class="sidebar-link">Getting setup tutorial</a></li><li><a href="/coursework/managing-files.html" class="sidebar-link">Managing files tutorial</a></li><li><a href="/coursework/github-pull-requests.html" class="sidebar-link">GitHub Branching and Merging</a></li><li><a href="/coursework/encoding-html.html" class="sidebar-link">Encoding in HTML</a></li><li><a href="/coursework/github-pages.html" class="sidebar-link">Publishing to GitHub pages</a></li><li><a href="/coursework/emmet-autocomplete.html" class="sidebar-link">Emmet autocompletion</a></li><li><a href="/coursework/browsersync.html" class="sidebar-link">Auto refreshing with Browsersync</a></li><li><a href="/coursework/adding-css.html" class="sidebar-link">Adding CSS style</a></li><li><a href="/coursework/using-chrome-inspector.html" class="sidebar-link">Using the Chrome inspector</a></li><li><a href="/coursework/responsive.html" class="sidebar-link">Responding to devices</a></li><li><a href="/coursework/css-frameworks.html" class="sidebar-link">CSS Frameworks</a></li><li><a href="/coursework/javascript-intro.html" class="sidebar-link">Introduction to Javascript</a></li><li><a href="/coursework/javascript-dom.html" class="active sidebar-link">DOM manipulation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/coursework/javascript-dom.html#adding-scripts-to-the-page" class="sidebar-link">Adding scripts to the page</a></li><li class="sidebar-sub-header"><a href="/coursework/javascript-dom.html#the-document-object-model-dom" class="sidebar-link">The Document Object Model (DOM)</a></li><li class="sidebar-sub-header"><a href="/coursework/javascript-dom.html#getting-references-to-elements" class="sidebar-link">Getting references to elements</a></li><li class="sidebar-sub-header"><a href="/coursework/javascript-dom.html#getting-setting-the-content-of-an-element" class="sidebar-link">Getting/setting the content of an element</a></li><li class="sidebar-sub-header"><a href="/coursework/javascript-dom.html#getting-setting-attributes" class="sidebar-link">Getting/setting attributes</a></li><li class="sidebar-sub-header"><a href="/coursework/javascript-dom.html#getting-setting-the-value-of-an-input" class="sidebar-link">Getting/setting the value of an input</a></li><li class="sidebar-sub-header"><a href="/coursework/javascript-dom.html#getting-setting-the-selected-option-of-a-select" class="sidebar-link">Getting/setting the selected option of a select</a></li><li class="sidebar-sub-header"><a href="/coursework/javascript-dom.html#adding-removing-style-classes" class="sidebar-link">Adding/removing style classes</a></li><li class="sidebar-sub-header"><a href="/coursework/javascript-dom.html#listening-for-events" class="sidebar-link">Listening for events</a></li><li class="sidebar-sub-header"><a href="/coursework/javascript-dom.html#commonly-used-events" class="sidebar-link">Commonly-used events</a></li><li class="sidebar-sub-header"><a href="/coursework/javascript-dom.html#conclusion" class="sidebar-link">Conclusion</a></li></ul></li><li><a href="/coursework/javascript-iteration.html" class="sidebar-link">Javascript iteration</a></li><li><a href="/coursework/javascript-sorting.html" class="sidebar-link">Javascript sorting and filtering</a></li><li><a href="/coursework/javascript-ajax.html" class="sidebar-link">Javascript AJAX</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="dom-manipulation"><a href="#dom-manipulation" class="header-anchor">#</a> DOM manipulation</h1> <iframe width="725" height="408" src="https://www.youtube.com/embed/tIahi41c7ds" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe> <p>Now that you know the basics of the JavaScript language, we can learn how to use that language to add some interactivity to our web pages. Specifically, we will learn how to respond to user interactions, modify the contents of elements, and add/remove style classes to alter formatting.</p> <h2 id="adding-scripts-to-the-page"><a href="#adding-scripts-to-the-page" class="header-anchor">#</a> Adding scripts to the page</h2> <p>The browser only knows about the HTML page it loads, and other files that it links to. So to add some script to our web page, we need to add an element that points to the script file. That element looks like this:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>path/to/javascript/file.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Strangely enough, you do need both a start and end tag, even though the element should have no content. The <code>src</code> attribute can be an absolute or relative URL to your script file. Absolute paths are typically used when loading a library of functions from a CDN location, while a relative path will be used to load your own JavaScript files from a <code>js</code> sub-folder.</p> <p>You can add as many <code>&lt;script&gt;</code> elements to a page as you want. The browser will download and execute each script in order, and they all will share a common global name space. So if the first script defines a global variable or function, scripts added after that one will also be able to reference that variable, or call that function, defined in the previous script.</p> <p>Because the browser pauses to download and execute scripts when it encounters them, we typically put these <code>&lt;script&gt;</code> elements at the end of the <code>&lt;body&gt;</code> section, just before the <code>&lt;/body&gt;</code> tag. That way the page content will render and the user can click on hyperlinks while the scripts are still downloading.</p> <p>Most browsers now support adding a <code>defer</code> attribute to the <code>&lt;script&gt;</code> element that tells the browser to defer downloading and running the script until the page is fully loaded and rendered to the screen. With this attribute, you can put the <code>&lt;script&gt;</code> element anywhere in the page. But beware about this for the short-term: it's <a href="https://caniuse.com/#feat=script-defer" target="_blank" rel="noopener noreferrer">not supported in older browsers like IE 8<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. Those browsers will simply download and execute the script as soon as they encounter the <code>&lt;script&gt;</code> element.</p> <h2 id="the-document-object-model-dom"><a href="#the-document-object-model-dom" class="header-anchor">#</a> The Document Object Model (DOM)</h2> <p>When the browser executes a script, it adds a few objects to the global name space that are just &quot;there.&quot; You don't have to create these objects or load them from anywhere—they are simply available because the browser added them before running your script.</p> <p>These global objects, and the objects they link to, are known as the <a href="https://www.w3schools.com/js/js_htmldom.asp" target="_blank" rel="noopener noreferrer">Document Object Model (DOM)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. The DOM contains a JavaScript object for each element in your web page, organized in a tree data structure just like the elements. The root of that tree is accessible via a browser-supplied global variable named <code>document</code>. That variable is an object that represents the entire page, and it has many properties and methods you can use to traverse, interrogate, and even manipulate the elements within then page.</p> <h2 id="getting-references-to-elements"><a href="#getting-references-to-elements" class="header-anchor">#</a> Getting references to elements</h2> <p>To interrogate or manipulate an element in your page, you first need to get a reference to the corresponding <a href="https://developer.mozilla.org/en-US/docs/Web/API/element" target="_blank" rel="noopener noreferrer">DOM Element object<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> that the browser created for that element when it parsed the page. This can be done using one of two methods.</p> <p>If the element you want to interact with has an <code>id</code> attribute, you can use <code>document.getElementById()</code> to get a reference to it. For example, this line of code would get a reference to the element with an <code>id</code> attribute set to <code>first-name-input</code>:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> nameInput <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;first-name-input&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>This method works only for elements with an <code>id</code> attribute, but there's another much more flexible and powerful method that will let you select elements using the same CSS selector syntax you've already learned. The method is <code>document.querySelector()</code>, and this is how you would use it to select the first element with the style class <code>output-paragraph</code>:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> outputPara <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.output-paragraph&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The <code>document.querySelector()</code> method accepts any sort of CSS selector: element, ID, class, descendant, group, etc. For example, this selector will find the <code>&lt;tbody&gt;</code> element that exists within an element with the style class <code>output-table</code>:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> outputTableBody <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.output-table tbody&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Note that <code>document.querySelector()</code> finds only the first element that satisfies that selector. To get all elements that satisfy the given selector, use <code>document.querySelectorAll()</code>. That method will return a <a href="https://developer.mozilla.org/en-US/docs/Web/API/NodeList" target="_blank" rel="noopener noreferrer">NodeList object<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, which is like an array, but not quite. It has a <code>.length</code> property and you can retrieve an element by index, but it doesn't support all the other methods that JavaScript arrays currently support. The safest way to iterate a NodeList at the present time is to use a standard <code>for</code> loop:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//select all hyperlink elements</span>
<span class="token keyword">var</span> links <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//for each link returned...</span>
<span class="token keyword">var</span> idx<span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>idx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> idx <span class="token operator">&lt;</span> links<span class="token punctuation">.</span>length<span class="token punctuation">;</span> idx<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//set its `target` attribute to &quot;_blank&quot;</span>
    <span class="token comment">//so that it automatically opens in a new browser tab</span>
    links<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">.</span>target <span class="token operator">=</span> <span class="token string">&quot;_blank&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="getting-setting-the-content-of-an-element"><a href="#getting-setting-the-content-of-an-element" class="header-anchor">#</a> Getting/setting the content of an element</h2> <p>Once you have a reference to an element, you can do several things with it. First, you can get or set its content using the <code>textContent</code> property:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//get a reference to the first element that has the style class 'alert'</span>
<span class="token keyword">var</span> alert <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.alert&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//get the existing text content (just to demonstrate)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>alert<span class="token punctuation">.</span>textContent<span class="token punctuation">)</span>

<span class="token comment">//reset the text content--this will update the element's text on screen</span>
alert<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">&quot;This is a new alert message!&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>The <code>textContent</code> property is considered &quot;safe,&quot; meaning that if you try to set it to a string that contains HTML, the browser will not interpret the string as HTML, and will instead display the HTML as plain text inside the element. This is a good thing. When we build web applications, these strings often come from the user in the first place, and devious users will often try to enter crafty HTML that when executed, can steal private information from a user. This is known as a <a href="https://en.wikipedia.org/wiki/Code_injection" target="_blank" rel="noopener noreferrer">Code Injection Attack<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, and it can be avoided by using this <code>textContent</code> property when setting an element's content.</p> <p>There is another property named <code>innerHTML</code> that is not safe. It sets the element's content, but that content will be interpreted as HTML, and may result in code being executed. This is generally not a good property to use unless you are absolutely certain the content came from a trusted source.</p> <p>You can also clear the content within an element by setting the <code>textContent</code> or <code>innerHTML</code> properties to an empty string:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//get a reference to the first element that has the style class `alert`</span>
<span class="token keyword">var</span> alert <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.alert&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//clear the content</span>
alert<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="getting-setting-attributes"><a href="#getting-setting-attributes" class="header-anchor">#</a> Getting/setting attributes</h2> <p>You can also get or set any attributes that might be supported by an element you select. Each attribute is typically exposed as a property of the returned element. So if you want to change the <code>src</code> attribute of an <code>img</code> element to show a different picture, you would use code like this:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//get a reference to the image element</span>
<span class="token keyword">var</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;img&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//reset it's `src` attribute to load a different image</span>
img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;https://....&quot;</span>
</code></pre></div><p>If you want to get all attributes, or if you're not sure which attributes are available on the element, use the <code>.attributes</code> property, which returns a <a href="https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap" target="_blank" rel="noopener noreferrer">NamedNodeMap object<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. This isn't commonly necessary, but it can be handy in cases where you are trying to write code that works with any kind of element.</p> <h2 id="getting-setting-the-value-of-an-input"><a href="#getting-setting-the-value-of-an-input" class="header-anchor">#</a> Getting/setting the value of an input</h2> <p>The <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input" target="_blank" rel="noopener noreferrer"><code>&lt;input&gt;</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> element is used for gather input from the user, but it is a self-closing tag, and thus doesn't have any content. The value the user types into the input is actually stored in a <code>value</code> property which you can get or set. This property is updated every time the user types into the input.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//get a reference to the input with the class name `name-input`</span>
<span class="token keyword">var</span> nameInput <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.name-input&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//get the string the user has typed into that input</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nameInput<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//clear the input</span>
nameInput<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="getting-setting-the-selected-option-of-a-select"><a href="#getting-setting-the-selected-option-of-a-select" class="header-anchor">#</a> Getting/setting the selected option of a select</h2> <p>The <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select" target="_blank" rel="noopener noreferrer"><code>&lt;select&gt;</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/option" target="_blank" rel="noopener noreferrer"><code>&lt;option&gt;</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> elements are used to let the user choose from a fixed list of available options. The associated DOM element also has a <code>value</code> property which you can use to get the <code>value</code> attribute of the selected <code>&lt;option&gt;</code> element. But if you want to get the display text of the <code>&lt;option&gt;</code> element instead, you can use the <code>.selectedIndex</code> property to get the selected option's index, and then access the option element object to get its content:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//get a reference to the input with the class name `state-select`</span>
<span class="token keyword">var</span> stateSelect <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.state-select&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//get the `value` attribute of the selected option</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stateSelect<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//get the display text of that selected option instead</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stateSelect<span class="token punctuation">.</span>options<span class="token punctuation">.</span><span class="token function">item</span><span class="token punctuation">(</span>stateSelect<span class="token punctuation">.</span>selectedIndex<span class="token punctuation">)</span><span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="adding-removing-style-classes"><a href="#adding-removing-style-classes" class="header-anchor">#</a> Adding/removing style classes</h2> <p>In addition to manipulating the content of element, you can also alter its formatting via JavaScript. The best way to do this is to add or remove CSS style classes that are defined in your stylesheet. Adding a new class to an element is done like so:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;p&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//show all existing style classes on the element</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//add the `my-style-class` to the set of classes</span>
p<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;my-style-class&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//will now include the new style class at the end</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Removing a style class is done using <code>.classList.remove()</code>.</p> <p>If you want to modify just one specific style property and leave the list of style classes alone, you can do that using the element's <code>.style</code> property. For example, this change the element's <code>background-color</code> style (note the name in JavaScript is <code>backgroundColor</code>):</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>p<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&quot;#CCCCCC&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="listening-for-events"><a href="#listening-for-events" class="header-anchor">#</a> Listening for events</h2> <p>All of this manipulation is neat, but you typically want to perform this manipulation <em>in response</em> to some kind of user interaction: clicking, typing, scrolling, etc. Since these events occur after the page has loaded, and after your script has run, you need to ask the browser to call some of your code whenever these events occur. You can do that using the element's <code>.addEventListener()</code> method.</p> <p>For example, say you have a <code>&lt;button&gt;</code> element in your page, and you want the browser to run some code whenever the user clicks that button. You first get a reference to the DOM Element object for that button, and then pass a function reference to its <code>.addEventListener()</code> method:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//this function should be called each time</span>
<span class="token comment">//the user clicks the button</span>
<span class="token keyword">function</span> <span class="token function">onButtonClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;my button was clicked!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//get a reference to the button element</span>
<span class="token keyword">var</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//tell the browser to call my onButtonClick() function</span>
<span class="token comment">//whenever the &quot;click&quot; event occurs</span>
button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> onButtonClick<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Each time the user clicks the button, the browser will call your <code>onButtonClick()</code> function. In that function you can select other elements, manipulate their content, or add/remove style classes.</p> <p>Note that the second parameter to <code>.addEventListener()</code> is just the name of the function with no parentheses after it. That name is like a variable name. It refers to the function. Putting parentheses after the name would call the function, and pass the function's return value as the second parameter to <code>.addEventListener()</code>, which is not what you want. When registering an event listener, always pass a function reference; don't call the function. You want the browser to call your function later. Passing the function reference to the browser allows it to call your function whenever the event occurs.</p> <p>You can alternatively provide the event listener function in-line if you want to, and this is commonly done in the JavaScript world. Instead of defining the event listener as a function with a name, and passing that name as a function reference, you can provide an <strong>inline anonymous function</strong>:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//get a reference to the button element</span>
<span class="token keyword">var</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//tell the browser to call the inline anonymous function</span>
<span class="token comment">//whenever the &quot;click&quot; event occurs</span>
button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;my button was clicked!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Notice that we simply moved the function declaration down into the spot where we had previously used the function name. This is known as a <strong>function value</strong> and it doesn't need a name anymore, as the function is declared and passed as a reference in one operation.</p> <p>Either approach works, but the latter is more compact and doesn't require naming the function, so it's commonly used by professionals.</p> <p>As the name implies, <code>.addEventListener()</code> will add a function to the list of listeners for that event. You can add multiple functions for the same event, and the browser will call all of them, in the order they were added.</p> <p>This is good for code re-use: JavaScript libraries can safely add event listeners without having to coordinate with other code that might be added to the same page. Initially, the DOM supported only one event listener for a given element, and the listener was registered by setting a property named <code>onEventName</code>, where <code>EventName</code> was the name of the event you wanted to listen for. If another bit of script reset that property, the browser would only call the newly set function, and the previous one as well. The <code>.addEventListener()</code> method was added to fix this problem, so it's good practice to use it.</p> <p>The <code>.addEventListener()</code> also enabled something the previous mechanism didn't support at all: adding a listener that should be called only once for the next occurrence of the event. This is handy when you need to clean up something after an asynchronous operation is complete (e.g., an element animation). To register a one-time event listener, just pass a JavaScript object with a property named once set to true as the third parameter:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//tell the browser to call the inline function</span>
<span class="token comment">//only once after the next click</span>
button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;my button was clicked!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>once<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="commonly-used-events"><a href="#commonly-used-events" class="header-anchor">#</a> Commonly-used events</h2> <p>For a full list of events you can listen for, see the <a href="https://developer.mozilla.org/en-US/docs/Web/Events" target="_blank" rel="noopener noreferrer">Event Reference<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, but the following sections describe several of the most commonly-used events.</p> <h3 id="mouse-events"><a href="#mouse-events" class="header-anchor">#</a> Mouse Events</h3> <p>Every HTML element will raise a <code>&quot;click&quot;</code> event when the element is clicked. This will also occur on touch screens when the element is tapped, though after a very short delay. Touch screens will also raise <code>touchstart</code> and <code>touchend</code> events when the user starts and stops touching an element.</p> <p>Elements also raise a <code>&quot;doubleclick&quot;</code> event when the element is double-clicked/tapped, and <code>&quot;contextmenu&quot;</code> when the user clicks with the alternate button.</p> <h3 id="window-events"><a href="#window-events" class="header-anchor">#</a> Window Events</h3> <p>When the user scrolls the page, the <code>window</code> object (another global like <code>document</code>) will raise a <code>&quot;scroll&quot;</code> event. This allows you to alter the page as the user scrolls down. For example, a navigation bar might start scrolling with the overall page, but become fixed to the top of the viewport once it reaches the top of the viewport.</p> <p>If the user resizes the browser window, the <code>window</code> object will raise a <code>&quot;resize&quot;</code> event. This allows you to adjust your page layout in ways that go beyond what you can do with CSS media rules.</p> <h3 id="input-events"><a href="#input-events" class="header-anchor">#</a> Input Events</h3> <p>As noted earlier, <code>&lt;input&gt;</code> elements create a box into which users can enter text. These elements raise an event named <code>&quot;input&quot;</code> whenever the contents of the box is changed by the user. This happens with each keystroke, so it's a handy way to respond as the user types:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> fNameInput <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.first-name-input&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

fNameInput<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;input&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;user typed:&quot;</span><span class="token punctuation">,</span> fNameInput<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>These elements raise another event name <code>&quot;change&quot;</code>, but this fires only when the user tabs or clicks out of the input box (known as &quot;losing focus&quot;). This event can be useful when you want to let the user type a longer bit of text and only process it once the user leaves the input.</p> <h3 id="animation-events"><a href="#animation-events" class="header-anchor">#</a> Animation events</h3> <p>Adding a style class that refers to an <a href="https://daneden.github.io/animate.css/" target="_blank" rel="noopener noreferrer">animation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> will cause the browser to animate the element asynchronously. But if you try to add that same style class again to the element, the browser will simply ignore that operation, as the class already exists on the element. Attempting to remove the class and add it again in two successive lines won't work either, as the browser will wait to look for style class changes until your event listener function completes.</p> <p>To trigger an animation repeatedly, you must listen for the <code>&quot;animationend&quot;</code> event that will be raised once the browser has finished animating the element. During this event, your code can remove the style class. That way, the next time you add that style class, the browser will notice that it wasn't there before, and animate the element again.</p> <p>For example, this code adds the <code>bounce</code> animation style class from the <a href="https://daneden.github.io/animate.css/" target="_blank" rel="noopener noreferrer">animate.css stylesheet<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to an element each time a button is clicked:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//assuming the animate.css stylesheet is included in the page</span>
<span class="token comment">//and thus their animation style classes are defined...</span>

<span class="token comment">//select the element to animate</span>
<span class="token keyword">var</span> animateElem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.elem-to-animate&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//when the animate button is clicked...</span>
<span class="token keyword">var</span> animateButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.animate-button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
animateButton<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//add the `bounce` style class to trigger a bounce animation</span>
    animateElem<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;bounce&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//when the animation ends, remove that `bounce` style class</span>
    animateElem<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;animationend&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        animateElem<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;bounce&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>once<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Note that I added the <code>{once: true}</code> as a third parameter to the <code>addEventListener()</code> method. This tells the browser that I only want this function to run for the next <code>&quot;animationend&quot;</code> event, and not when that event occurs again in the future. The browser will call my event listener the next time that <code>&quot;animationend&quot;</code> event occurs, but after my event listener function exits, the browser will remove my listener so that it's not called again in the future. This is a handy way to clean up after an asynchronous operation, such as a CSS animation, completes.</p> <h2 id="conclusion"><a href="#conclusion" class="header-anchor">#</a> Conclusion</h2> <p>The DOM plus the ability to add event listener functions gives us total control over our web pages. We can literally rewrite the page in response to user interactions, which allows us to build highly-interactive web sites and applications.</p> <p>Now try some of this yourself. Use <a href="https://codepen.io/nickdenardis/pen/xjXoaX" target="_blank" rel="noopener noreferrer">this CodePen<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> or create your own page and script.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/coursework/javascript-intro.html" class="prev">
        Introduction to Javascript
      </a></span> <span class="next"><a href="/coursework/javascript-iteration.html">
        Javascript iteration
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/coursework/assets/js/app.6b55f3c6.js" defer></script><script src="/coursework/assets/js/2.102d0eb8.js" defer></script><script src="/coursework/assets/js/17.d708c1cd.js" defer></script>
  </body>
</html>
